{"version":3,"sources":["addons/search.js"],"names":["addon","component","jQuery","UIkit","define","amd","$","UI","defaults","msgResultsHeader","msgMoreResults","msgNoResults","template","renderer","data","opts","this","options","dropdown","append","items","results","show","init","$this","autocomplete","element","addClass","input","on","val","closest","value","removeClass","e","url","location","href","moreresults","submit","$doc","ele","search","Utils","attr"],"mappings":"CAEA,SAAUA,GAEN,GAAIC,EAEAC,SAAUA,OAAOC,QACjBF,EAAYD,EAAME,OAAQA,OAAOC,QAGhB,kBAAVC,SAAwBA,OAAOC,KACtCD,OAAO,gBAAiB,SAAU,WAC9B,MAAOH,IAAaD,EAAME,OAAQA,OAAOC,UAIlD,SAASG,EAAGC,GAEX,YAEAA,GAAGN,UAAU,UACTO,UACIC,iBAAqB,iBACrBC,eAAqB,eACrBC,aAAqB,mBACrBC,SAAqB,m9CAqBrBC,SAAU,SAASC,GAEf,GAAkBC,GAAOC,KAAKC,OAE9BD,MAAKE,SAASC,OAAOH,KAAKJ,UAAUQ,MAAQN,EAAKO,YAAeZ,iBAAmBM,EAAKN,iBAAkBC,eAAkBK,EAAKL,eAAgBC,aAAgBI,EAAKJ,gBACtKK,KAAKM,SAIbC,KAAM,WACF,GAAIC,GAAQR,IAEZA,MAAKS,aAAelB,EAAGkB,aAAaT,KAAKU,QAASV,KAAKC,SAEvDD,KAAKS,aAAaP,SAASS,SAAS,sBAEpCX,KAAKS,aAAaG,MAAMC,GAAG,QAAS,WAChCL,EAAME,QAAQF,EAAMC,aAAaG,MAAME,MAAQ,WAAW,eAAe,eAC1EC,QAAQ,QAAQF,GAAG,QAAS,WAC3BL,EAAMQ,MAAM,GACZR,EAAME,QAAQO,YAAY,eAG9BjB,KAAKa,GAAG,sBAAuB,SAASK,EAAGpB,GACnCA,EAAKqB,IACPC,SAASC,KAAOvB,EAAKqB,IACbrB,EAAKwB,aACbtB,KAAKS,aAAaG,MAAMG,QAAQ,QAAQQ,WAI9CvB,KAAKU,QAAQZ,KAAK,SAAUE,SAKpCT,EAAGiC,KAAKX,GAAG,qBAAsB,mBAAoB,WACjD,GAAIY,GAAMnC,EAAEU,KAEZ,KAAKyB,EAAI3B,KAAK,UACV,CAAUP,EAAGmC,OAAOD,EAAKlC,EAAGoC,MAAM1B,QAAQwB,EAAIG,KAAK","file":"addons/search.js","sourcesContent":["/*! UIkit 2.9.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */\n\n(function(addon) {\n\n    var component;\n\n    if (jQuery && jQuery.UIkit) {\n        component = addon(jQuery, jQuery.UIkit);\n    }\n\n    if (typeof define == \"function\" && define.amd) {\n        define(\"uikit-search\", [\"uikit\"], function(){\n            return component || addon(jQuery, jQuery.UIkit);\n        });\n    }\n\n})(function($, UI){\n\n    \"use strict\";\n\n    UI.component('search', {\n        defaults: {\n            msgResultsHeader   : 'Search Results',\n            msgMoreResults     : 'More Results',\n            msgNoResults       : 'No results found',\n            template           : '<ul class=\"uk-nav uk-nav-search uk-autocomplete-results\">\\\n                                      {{#msgResultsHeader}}<li class=\"uk-nav-header uk-skip\">{{msgResultsHeader}}</li>{{/msgResultsHeader}}\\\n                                      {{#items && items.length}}\\\n                                          {{~items}}\\\n                                          <li data-url=\"{{!$item.url}}\">\\\n                                              <a href=\"{{!$item.url}}\">\\\n                                                  {{{$item.title}}}\\\n                                                  {{#$item.text}}<div>{{{$item.text}}}</div>{{/$item.text}}\\\n                                              </a>\\\n                                          </li>\\\n                                          {{/items}}\\\n                                          {{#msgMoreResults}}\\\n                                              <li class=\"uk-nav-divider uk-skip\"></li>\\\n                                              <li class=\"uk-search-moreresults\" data-moreresults=\"true\"><a href=\"#\" onclick=\"jQuery(this).closest(\\'form\\').submit();\">{{msgMoreResults}}</a></li>\\\n                                          {{/msgMoreResults}}\\\n                                      {{/end}}\\\n                                      {{^items.length}}\\\n                                        {{#msgNoResults}}<li class=\"uk-skip\"><a>{{msgNoResults}}</a></li>{{/msgNoResults}}\\\n                                      {{/end}}\\\n                                  </ul>',\n\n            renderer: function(data) {\n\n                var $this = this, opts = this.options;\n\n                this.dropdown.append(this.template({\"items\":data.results || [], \"msgResultsHeader\":opts.msgResultsHeader, \"msgMoreResults\": opts.msgMoreResults, \"msgNoResults\": opts.msgNoResults}));\n                this.show();\n            }\n        },\n\n        init: function() {\n            var $this = this;\n\n            this.autocomplete = UI.autocomplete(this.element, this.options);\n\n            this.autocomplete.dropdown.addClass('uk-dropdown-search');\n\n            this.autocomplete.input.on(\"keyup\", function(){\n                $this.element[$this.autocomplete.input.val() ? \"addClass\":\"removeClass\"](\"uk-active\");\n            }).closest(\"form\").on(\"reset\", function(){\n                $this.value=\"\";\n                $this.element.removeClass(\"uk-active\");\n            });\n\n            this.on('autocomplete-select', function(e, data) {\n                if (data.url) {\n                  location.href = data.url;\n                } else if(data.moreresults) {\n                  this.autocomplete.input.closest('form').submit();\n                }\n            });\n\n            this.element.data(\"search\", this);\n        }\n    });\n\n    // init code\n    UI.$doc.on(\"focus.search.uikit\", \"[data-uk-search]\", function(e) {\n        var ele = $(this);\n\n        if (!ele.data(\"search\")) {\n            var obj = UI.search(ele, UI.Utils.options(ele.attr(\"data-uk-search\")));\n        }\n    });\n});"],"sourceRoot":"/source/"}