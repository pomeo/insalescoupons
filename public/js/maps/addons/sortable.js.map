{"version":3,"sources":["addons/sortable.js"],"names":["addon","component","jQuery","UIkit","define","amd","$","UI","isBelow","el1","el2","parent","parentNode","cur","previousSibling","nodeType","moveUpToChildNode","child","ownerDocument","prevent","e","stopPropagation","preventDefault","returnValue","draggingPlaceholder","moving","dragging","clickedlink","delayIdle","supportsTouch","window","DocumentTouch","document","supportsDragAndDrop","div","createElement","defaults","warp","animation","threshold","childClass","placeholderClass","overClass","draggingClass","dragMovingClass","dragCustomClass","handleClass","stop","start","change","init","delegate","fn","touch","touches","target","elementFromPoint","pageX","body","scrollLeft","pageY","scrollTop","hasClass","$this","options","apply","element","context","addFakeDragHandlers","addEventListener","handleTouchMove","handleDragEnter","handleDragLeave","handleDrop","handleDragEnd","removeFakeDragHandlers","removeEventListener","children","this","currentlyDraggingElement","currentlyDraggingTarget","attr","on","stopImmediatePropagation","handleDragStart","button","handle","closest","length","dataTransfer","effectAllowed","dropEffect","setData","remove","$current","offset","pos","x","y","join","css","display","top","left","width","height","padding","data","parseInt","append","html","appendTo","$sortable","trigger","handleDragOver","Utils","debounce","previousCounter","dragenterData","addClass","moveElementNextTo","removeClass","type","thisSibling","nextSibling","insertBefore","each","val","arguments","Math","max","removeAttr","elementToMoveNextTo","list","next","count","checkDisplay","ele","position","before","min-width","setTimeout","animate","pointer-events","ready","sortable","$doc","abs","show","originalEvent","location","href"],"mappings":"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","file":"addons/sortable.js","sourcesContent":["/*! UIkit 2.9.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */\n\n/*\n  * Based on nativesortable - Copyright (c) Brian Grinstead - https://github.com/bgrins/nativesortable\n  */\n(function(addon) {\n\n    var component;\n\n    if (jQuery && jQuery.UIkit) {\n        component = addon(jQuery, jQuery.UIkit);\n    }\n\n    if (typeof define == \"function\" && define.amd) {\n        define(\"uikit-sortable\", [\"uikit\"], function(){\n            return component || addon(jQuery, jQuery.UIkit);\n        });\n    }\n\n})(function($, UI){\n\n    \"use strict\";\n\n    var supportsTouch       = ('ontouchstart' in window) || (window.DocumentTouch && document instanceof DocumentTouch),\n        supportsDragAndDrop = !supportsTouch && (function() {\n        var div = document.createElement('div');\n        return ('draggable' in div) || ('ondragstart' in div && 'ondrop' in div);\n    })(),\n\n    draggingPlaceholder, moving, dragging, clickedlink, delayIdle;\n\n    // disable native dragndrop support for now\n    supportsDragAndDrop = false;\n\n    UI.component('sortable', {\n\n        defaults: {\n\n            warp             : false,\n            animation        : 150,\n            threshold        : 10,\n\n            childClass       : 'uk-sortable-item',\n            placeholderClass : 'uk-sortable-placeholder',\n            overClass        : 'uk-sortable-over',\n            draggingClass    : 'uk-sortable-dragged',\n            dragMovingClass  : 'uk-sortable-moving',\n            dragCustomClass  : '',\n            handleClass      : false,\n\n            stop             : function() {},\n            start            : function() {},\n            change           : function() {}\n        },\n\n        init: function() {\n\n            var $this                    = this,\n                element                  = this.element[0],\n                currentlyDraggingElement = null,\n                currentlyDraggingTarget  = null,\n                children;\n\n            if (supportsDragAndDrop) {\n                this.element.children().attr(\"draggable\", \"true\");\n\n            } else {\n\n                // prevent leaving page after link clicking\n                this.element.on('mousedown touchstart', 'a[href]', function(e) {\n                    clickedlink = $(this);\n                }).on('click', 'a[href]', function(e) {\n                    clickedlink = $(this);\n                    e.stopImmediatePropagation();\n                    return false;\n                });\n            }\n\n            var handleDragStart = delegate(function(e) {\n\n                moving = false;\n                dragging = false;\n\n                var target = $(e.target), children = $this.element.children();\n\n                if (!supportsTouch && e.button==2) {\n                    return;\n                }\n\n                if ($this.options.handleClass) {\n\n                    var handle = target.hasClass($this.options.handleClass) ? target : target.closest('.'+$this.options.handleClass, element);\n\n                    if (!handle.length) {\n                        //e.preventDefault();\n                        return;\n                    }\n                }\n\n                if (e.dataTransfer) {\n                    e.dataTransfer.effectAllowed = 'move';\n                    e.dataTransfer.dropEffect = 'move';\n                    e.dataTransfer.setData('Text', \"*\"); // Need to set to something or else drag doesn't start\n                }\n\n                currentlyDraggingElement = this;\n\n                // init drag placeholder\n                if (draggingPlaceholder) draggingPlaceholder.remove();\n\n                var $current = $(currentlyDraggingElement), offset = $current.offset();\n\n                delayIdle = {\n\n                    pos       : { x:e.pageX, y:e.pageY },\n                    threshold : $this.options.threshold,\n                    'apply'   : function() {\n\n                        draggingPlaceholder = $('<div class=\"'+([$this.options.draggingClass, $this.options.dragCustomClass].join(' '))+'\"></div>').css({\n                            display : 'none',\n                            top     : offset.top,\n                            left    : offset.left,\n                            width   : $current.width(),\n                            height  : $current.height(),\n                            padding : $current.css('padding')\n                        }).data('mouse-offset', {\n                            'left': offset.left - parseInt(e.pageX, 10),\n                            'top' : offset.top  - parseInt(e.pageY, 10)\n                        }).append($current.html()).appendTo('body');\n\n                        draggingPlaceholder.$current  = $current;\n                        draggingPlaceholder.$sortable = $this;\n\n                        addFakeDragHandlers();\n\n                        $this.options.start(this, currentlyDraggingElement);\n                        $this.trigger('sortable-start', [$this, currentlyDraggingElement]);\n\n                        delayIdle = false;\n                    }\n                }\n\n                if (!supportsDragAndDrop) {\n                    e.preventDefault();\n                }\n            });\n\n            var handleDragOver = delegate(function(e) {\n\n                if (!currentlyDraggingElement) {\n                    return true;\n                }\n\n                if (e.preventDefault) {\n                    e.preventDefault();\n                }\n\n                return false;\n            });\n\n            var handleDragEnter = delegate($.UIkit.Utils.debounce(function(e) {\n\n                if (!currentlyDraggingElement || currentlyDraggingElement === this) {\n                    return true;\n                }\n\n                // Prevent dragenter on a child from allowing a dragleave on the container\n                var previousCounter = $this.dragenterData(this);\n\n                $this.dragenterData(this, previousCounter + 1);\n\n                if (previousCounter === 0) {\n\n                    $(this).addClass($this.options.overClass);\n\n                    if (!$this.options.warp) {\n                        $this.moveElementNextTo(currentlyDraggingElement, this);\n                    }\n                }\n\n                return false;\n            }), 40);\n\n            var handleDragLeave = delegate(function(e) {\n\n                // Prevent dragenter on a child from allowing a dragleave on the container\n                var previousCounter = $this.dragenterData(this);\n                $this.dragenterData(this, previousCounter - 1);\n\n                // This is a fix for child elements firing dragenter before the parent fires dragleave\n                if (!$this.dragenterData(this)) {\n                    $(this).removeClass($this.options.overClass);\n                    $this.dragenterData(this, false);\n                }\n            });\n\n            var handleDrop = delegate(function(e) {\n\n\n                if (e.type === 'drop') {\n\n                    if (e.stopPropagation) {\n                        e.stopPropagation();\n                    }\n\n                    if (e.preventDefault) {\n                        e.preventDefault();\n                    }\n                }\n\n                if (!dragging) {\n                    return;\n                }\n\n                if ($this.options.warp) {\n                    var thisSibling = currentlyDraggingElement.nextSibling;\n                    this.parentNode.insertBefore(currentlyDraggingElement, this);\n                    this.parentNode.insertBefore(this, thisSibling);\n                }\n\n                $this.options.change(this, currentlyDraggingElement);\n                $this.trigger('sortable-change', [$this, currentlyDraggingElement]);\n            });\n\n            var handleDragEnd = function(e) {\n\n                currentlyDraggingElement = null;\n                currentlyDraggingTarget  = null;\n\n                $this.element.children().each(function() {\n                    if (this.nodeType === 1) {\n                        $(this).removeClass($this.options.overClass).removeClass($this.options.placeholderClass).removeClass($this.options.childClass);\n                        $this.dragenterData(this, false);\n                    }\n                });\n\n                $('html').removeClass($this.options.dragMovingClass);\n\n                removeFakeDragHandlers();\n\n                $this.options.stop(this);\n                $this.trigger('sortable-stop', [$this]);\n\n                draggingPlaceholder.remove();\n                draggingPlaceholder = null;\n            };\n\n            var handleTouchMove = delegate(function(e) {\n\n                if (!currentlyDraggingElement ||\n                    currentlyDraggingElement === this ||\n                    currentlyDraggingTarget === this) {\n                    return true;\n                }\n\n                children.removeClass($this.options.overClass);\n                currentlyDraggingTarget = this;\n\n                if (!$this.options.warp) {\n                    $this.moveElementNextTo(currentlyDraggingElement, this);\n                } else {\n                    $(this).addClass($this.options.overClass);\n                }\n\n                return prevent(e);\n            });\n\n            function delegate(fn) {\n                return function(e) {\n\n                    var touch  = (supportsTouch && e.touches && e.touches[0]) || { },\n                        target = touch.target || e.target;\n\n                    // Fix event.target for a touch event\n                    if (supportsTouch && document.elementFromPoint) {\n                        target = document.elementFromPoint(e.pageX - document.body.scrollLeft, e.pageY - document.body.scrollTop);\n                    }\n\n                    if ($(target).hasClass($this.options.childClass)) {\n                        fn.apply(target, [e]);\n                    } else if (target !== element) {\n\n                        // If a child is initiating the event or ending it, then use the container as context for the callback.\n                        var context = moveUpToChildNode(element, target);\n\n                        if (context) {\n                            fn.apply(context, [e]);\n                        }\n                    }\n                };\n            }\n\n            // Opera and mobile devices do not support drag and drop.  http://caniuse.com/dragndrop\n            // Bind/unbind standard mouse/touch events as a polyfill.\n            function addFakeDragHandlers() {\n                if (!supportsDragAndDrop) {\n                    if (supportsTouch) {\n                        element.addEventListener(\"touchmove\", handleTouchMove, false);\n                    } else {\n                        element.addEventListener('mouseover', handleDragEnter, false);\n                        element.addEventListener('mouseout', handleDragLeave, false);\n                    }\n\n                    element.addEventListener(supportsTouch ? 'touchend' : 'mouseup', handleDrop, false);\n                    document.addEventListener(supportsTouch ? 'touchend' : 'mouseup', handleDragEnd, false);\n                    document.addEventListener(\"selectstart\", prevent, false);\n\n                }\n            }\n\n            function removeFakeDragHandlers() {\n                if (!supportsDragAndDrop) {\n                    if (supportsTouch) {\n                        element.removeEventListener(\"touchmove\", handleTouchMove, false);\n                    } else {\n                        element.removeEventListener('mouseover', handleDragEnter, false);\n                        element.removeEventListener('mouseout', handleDragLeave, false);\n                    }\n\n                    element.removeEventListener(supportsTouch ? 'touchend' : 'mouseup', handleDrop, false);\n                    document.removeEventListener(supportsTouch ? 'touchend' : 'mouseup', handleDragEnd, false);\n                    document.removeEventListener(\"selectstart\", prevent, false);\n                }\n            }\n\n            if (supportsDragAndDrop) {\n                element.addEventListener('dragstart', handleDragStart, false);\n                element.addEventListener('dragenter', handleDragEnter, false);\n                element.addEventListener('dragleave', handleDragLeave, false);\n                element.addEventListener('drop', handleDrop, false);\n                element.addEventListener('dragover', handleDragOver, false);\n                element.addEventListener('dragend', handleDragEnd, false);\n            } else {\n\n                element.addEventListener(supportsTouch ? 'touchstart':'mousedown', handleDragStart, false);\n            }\n        },\n\n        dragenterData: function(element, val) {\n\n            element = $(element);\n\n            if (arguments.length == 1) {\n                return parseInt(element.attr('data-child-dragenter'), 10) || 0;\n            } else if (!val) {\n                element.removeAttr('data-child-dragenter');\n            } else {\n                element.attr('data-child-dragenter', Math.max(0, val));\n            }\n        },\n\n        moveElementNextTo: function(element, elementToMoveNextTo) {\n\n            dragging = true;\n\n            var $this    = this,\n                list     = $(element).parent().css('min-height', ''),\n                next     = isBelow(element, elementToMoveNextTo) ? elementToMoveNextTo : elementToMoveNextTo.nextSibling,\n                children = list.children(),\n                count    = children.length;\n\n            if($this.options.warp || !$this.options.animation) {\n                elementToMoveNextTo.parentNode.insertBefore(element, next);\n                UI.Utils.checkDisplay($this.element);\n                return;\n            }\n\n            list.css('min-height', list.height());\n\n            children.stop().each(function(){\n                var ele = $(this),\n                    offset = ele.position();\n\n                    offset.width = ele.width();\n\n                ele.data('offset-before', offset);\n            });\n\n            elementToMoveNextTo.parentNode.insertBefore(element, next);\n\n            children = list.children().each(function() {\n                var ele    = $(this);\n                ele.data('offset-after', ele.position());\n            }).each(function() {\n                var ele    = $(this),\n                    before = ele.data('offset-before');\n                ele.css({'position':'absolute', 'top':before.top, 'left':before.left, 'min-width':before.width });\n            });\n\n            children.each(function(){\n\n                var ele    = $(this),\n                    before = ele.data('offset-before'),\n                    offset = ele.data('offset-after');\n\n                    ele.css('pointer-events', 'none').width();\n\n                    setTimeout(function(){\n                        ele.animate({'top':offset.top, 'left':offset.left}, $this.options.animation, function() {\n                            ele.css({'position':'','top':'', 'left':'', 'min-width': '', 'pointer-events':''}).removeClass($this.options.overClass).attr('data-child-dragenter', '');\n                            count--\n                            if (!count) {\n                                list.css('min-height', '');\n                                UI.Utils.checkDisplay(ele);\n                            }\n                        });\n                    }, 0);\n            });\n\n\n        }\n    });\n\n    // helpers\n\n    function isBelow(el1, el2) {\n\n        var parent = el1.parentNode;\n\n        if (el2.parentNode != parent) {\n            return false;\n        }\n\n        var cur = el1.previousSibling;\n\n        while (cur && cur.nodeType !== 9) {\n            if (cur === el2) {\n                return true;\n            }\n            cur = cur.previousSibling;\n        }\n\n        return false;\n    }\n\n    function moveUpToChildNode(parent, child) {\n        var cur = child;\n        if (cur == parent) { return null; }\n\n        while (cur) {\n            if (cur.parentNode === parent) {\n                return cur;\n            }\n\n            cur = cur.parentNode;\n            if ( !cur || !cur.ownerDocument || cur.nodeType === 11 ) {\n                break;\n            }\n        }\n        return null;\n    }\n\n    function prevent(e) {\n        if (e.stopPropagation) {\n            e.stopPropagation();\n        }\n        if (e.preventDefault) {\n            e.preventDefault();\n        }\n        e.returnValue = false;\n    }\n\n    // auto init\n    UI.ready(function(context) {\n\n        $(\"[data-uk-sortable]\", context).each(function(){\n\n          var ele = $(this);\n\n          if(!ele.data(\"sortable\")) {\n              var plugin = UI.sortable(ele, UI.Utils.options(ele.attr(\"data-uk-sortable\")));\n          }\n        });\n    });\n\n    UI.$doc.on('mousemove touchmove', function(e) {\n\n        if (delayIdle) {\n            if (Math.abs(e.pageX - delayIdle.pos.x) > delayIdle.threshold || Math.abs(e.pageY - delayIdle.pos.y) > delayIdle.threshold) {\n                delayIdle.apply();\n            }\n        }\n\n        if (draggingPlaceholder) {\n\n            if (!moving) {\n                moving = true;\n                draggingPlaceholder.show();\n\n                draggingPlaceholder.$current.addClass(draggingPlaceholder.$sortable.options.placeholderClass);\n                draggingPlaceholder.$sortable.element.children().addClass(draggingPlaceholder.$sortable.options.childClass);\n\n                $('html').addClass(draggingPlaceholder.$sortable.options.dragMovingClass);\n            }\n\n            var offset = draggingPlaceholder.data('mouse-offset'),\n                left   = parseInt(e.originalEvent.pageX, 10) + offset.left,\n                top    = parseInt(e.originalEvent.pageY, 10) + offset.top;\n\n            draggingPlaceholder.css({'left': left, 'top': top });\n        }\n    });\n\n    UI.$doc.on('mouseup touchend', function() {\n\n        if(!moving && clickedlink) {\n            location.href = clickedlink.attr('href');\n        }\n\n        delayIdle = clickedlink = false;\n    });\n\n    return UI.sortable;\n});"],"sourceRoot":"/source/"}