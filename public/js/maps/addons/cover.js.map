{"version":3,"sources":["addons/cover.js"],"names":["addon","component","jQuery","UIkit","define","amd","$","UI","defaults","automute","init","this","parent","element","dimension","w","width","h","height","ratio","$win","on","Utils","debounce","check","bind","data","is","options","src","attr","contentWindow","postMessage","indexOf","join","Math","ceil","css","ready","context","each","ele","cover"],"mappings":"CAEA,SAAUA,GAEN,GAAIC,EAEAC,SAAUA,OAAOC,QACjBF,EAAYD,EAAME,OAAQA,OAAOC,QAGhB,kBAAVC,SAAwBA,OAAOC,KACtCD,OAAO,eAAgB,SAAU,WAC7B,MAAOH,IAAaD,EAAME,OAAQA,OAAOC,UAIlD,SAASG,EAAGC,GAEX,YAEAA,GAAGN,UAAU,SAETO,UACIC,UAAW,GAGfC,KAAM,WAeF,GAbAC,KAAKC,OAAYD,KAAKE,QAAQD,SAC9BD,KAAKG,WAAaC,EAAGJ,KAAKE,QAAQG,QAASC,EAAGN,KAAKE,QAAQK,UAC3DP,KAAKQ,MAAYR,KAAKG,UAAUC,EAAIJ,KAAKG,UAAUG,EAEnDV,EAAGa,KAAKC,GAAG,gCAAiCd,EAAGe,MAAMC,SAAS,WAC1DZ,KAAKa,SACPC,KAAKd,MAAO,MAEdA,KAAKa,QAELb,KAAKE,QAAQa,KAAK,QAASf,MAGvBA,KAAKE,QAAQc,GAAG,WAAahB,KAAKiB,QAAQnB,SAAU,CAEpD,GAAIoB,GAAMlB,KAAKE,QAAQiB,KAAK,MAE5BnB,MAAKE,QAAQiB,KAAK,MAAO,IAAIT,GAAG,OAAQ,WAEpCV,KAAKoB,cAAcC,YAAY,yEAA0E,OAE1GF,KAAK,OAAQD,EAAMA,EAAII,QAAQ,KAAO,GAAK,IAAI,IAAM,uBAAuBC,KAAK,OAI5FV,MAAO,WAEH,GAAuDR,GAAOE,EAA1DH,EAAIJ,KAAKC,OAAOI,QAASC,EAAIN,KAAKC,OAAOM,QAGxCH,GAAIJ,KAAKQ,MAASF,GAEnBD,EAASmB,KAAKC,KAAKnB,EAAIN,KAAKQ,OAC5BD,EAASD,IAKTD,EAASD,EACTG,EAASiB,KAAKC,KAAKrB,EAAIJ,KAAKQ,QAGhCR,KAAKE,QAAQwB,KACTrB,MAAWA,EACXE,OAAWA,OAMvBX,EAAG+B,MAAM,SAASC,GAEdjC,EAAE,kBAAmBiC,GAASC,KAAK,WAE/B,GAAIC,GAAMnC,EAAEK,KAEZ,KAAI8B,EAAIf,KAAK,SACT,CAAanB,EAAGmC,MAAMD,EAAKlC,EAAGe,MAAMM,QAAQa,EAAIX,KAAK","file":"addons/cover.js","sourcesContent":["/*! UIkit 2.9.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */\n\n(function(addon) {\n\n    var component;\n\n    if (jQuery && jQuery.UIkit) {\n        component = addon(jQuery, jQuery.UIkit);\n    }\n\n    if (typeof define == \"function\" && define.amd) {\n        define(\"uikit-cover\", [\"uikit\"], function(){\n            return component || addon(jQuery, jQuery.UIkit);\n        });\n    }\n\n})(function($, UI){\n\n    \"use strict\";\n\n    UI.component('cover', {\n\n        defaults: {\n            automute : true\n        },\n\n        init: function() {\n\n            this.parent    = this.element.parent();\n            this.dimension = {w: this.element.width(), h: this.element.height()};\n            this.ratio     = this.dimension.w / this.dimension.h;\n\n            UI.$win.on('load resize orientationchange', UI.Utils.debounce(function(){\n                this.check();\n            }.bind(this), 100));\n\n            this.check();\n\n            this.element.data(\"cover\", this);\n\n\n            if (this.element.is('iframe') && this.options.automute) {\n\n                var src = this.element.attr('src');\n\n                this.element.attr('src', '').on('load', function(){\n\n                    this.contentWindow.postMessage('{ \"event\": \"command\", \"func\": \"mute\", \"method\":\"setVolume\", \"value\":0}', '*');\n\n                }).attr('src', [src, (src.indexOf('?') > -1 ? '&':'?'), 'enablejsapi=1&api=1'].join(''));\n            }\n        },\n\n        check: function() {\n\n            var w = this.parent.width(), h = this.parent.height(), width, height;\n\n            // if element height < parent height (gap underneath)\n            if ((w / this.ratio) < h) {\n\n                width  = Math.ceil(h * this.ratio);\n                height = h;\n\n            // element width < parent width (gap to right)\n            } else {\n\n                width  = w;\n                height = Math.ceil(w / this.ratio);\n            }\n\n            this.element.css({\n                'width'  : width,\n                'height' : height\n            });\n        }\n    });\n\n    // auto init\n    UI.ready(function(context) {\n\n        $(\"[data-uk-cover]\", context).each(function(){\n\n            var ele = $(this);\n\n            if(!ele.data(\"cover\")) {\n                var plugin = UI.cover(ele, UI.Utils.options(ele.attr(\"data-uk-cover\")));\n            }\n        });\n    });\n});"],"sourceRoot":"/source/"}