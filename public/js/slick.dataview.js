!function(t){function e(e){function n(){_e=!0}function i(){_e=!1,ee()}function r(t){$e=t}function o(t){ae=t}function a(t){t=t||0;for(var e,n=t,i=fe.length;i>n;n++){if(e=fe[n][ce],void 0===e)throw"Each data element must implement a unique 'id' property";he[e]=n}}function l(){for(var t,e=0,n=fe.length;n>e;e++)if(t=fe[e][ce],void 0===t||he[t]!==e)throw"Each data element must implement a unique 'id' property"}function s(){return fe}function u(t,e){void 0!==e&&(ce=e),fe=xe=t,he={},a(),l(),ee()}function g(t){void 0!=t.pageSize&&(Fe=t.pageSize,Ae=Fe?Math.min(Ae,Math.max(0,Math.ceil(Ge/Fe)-1)):0),void 0!=t.pageNum&&(Ae=Math.min(t.pageNum,Math.max(0,Math.ceil(Ge/Fe)-1))),Ne.notify(c(),null,ue),ee()}function c(){var t=Fe?Math.max(1,Math.ceil(Ge/Fe)):1;return{pageSize:Fe,pageNum:Ae,totalRows:Ge,totalPages:t}}function f(t,e){we=e,oe=t,re=null,e===!1&&fe.reverse(),fe.sort(t),e===!1&&fe.reverse(),he={},a(),ee()}function p(t,e){we=e,re=t,oe=null;var n=Object.prototype.toString;Object.prototype.toString="function"==typeof t?t:function(){return this[t]},e===!1&&fe.reverse(),fe.sort(),Object.prototype.toString=n,e===!1&&fe.reverse(),he={},a(),ee()}function h(){oe?f(oe,we):re&&p(re,we)}function d(t){me=t,e.inlineFilters&&(le=Q(),se=W()),ee()}function m(){return Re}function v(n){e.groupItemMetadataProvider||(e.groupItemMetadataProvider=new Slick.Data.GroupItemMetadataProvider),Se=[],Me=[],n=n||[],Re=n instanceof Array?n:[n];for(var i=0;i<Re.length;i++){var r=Re[i]=t.extend(!0,{},Ie,Re[i]);r.getterIsAFn="function"==typeof r.getter,r.compiledAccumulators=[];for(var o=r.aggregators.length;o--;)r.compiledAccumulators[o]=H(r.aggregators[o]);Me[i]={}}ee()}function _(t,e,n){return null==t?(v([]),void 0):(v({getter:t,formatter:e,comparer:n}),void 0)}function w(t,e){if(!Re.length)throw new Error("At least one grouping must be specified before calling setAggregators().");Re[0].aggregators=t,Re[0].aggregateCollapsed=e,v(Re)}function $(t){return fe[t]}function y(t){return he[t]}function x(){if(!de){de={};for(var t=0,e=pe.length;e>t;t++)de[pe[t][ce]]=t}}function C(t){return x(),de[t]}function I(t){return fe[he[t]]}function R(t){var e=[];x();for(var n=0,i=t.length;i>n;n++){var r=de[t[n]];null!=r&&(e[e.length]=r)}return e}function S(t){for(var e=[],n=0,i=t.length;i>n;n++)t[n]<pe.length&&(e[e.length]=pe[t[n]][ce]);return e}function M(t,e){if(void 0===he[t]||t!==e[ce])throw"Invalid or non-matching id";fe[he[t]]=e,ve||(ve={}),ve[t]=!0,ee()}function b(t,e){fe.splice(t,0,e),a(t),ee()}function F(t){fe.push(t),a(fe.length-1),ee()}function A(t){var e=he[t];if(void 0===e)throw"Invalid id";delete he[t],fe.splice(e,1),a(e),ee()}function G(){return pe.length}function T(t){var e=pe[t];if(e&&e.__group&&e.totals&&!e.totals.initialized){var n=Re[e.level];n.displayTotalsRow||(K(e.totals),e.title=n.formatter?n.formatter(e):e.value)}else e&&e.__groupTotals&&!e.initialized&&K(e);return e}function E(t){var n=pe[t];return void 0===n?null:n.__group?e.groupItemMetadataProvider.getGroupRowMetadata(n):n.__groupTotals?e.groupItemMetadataProvider.getTotalsRowMetadata(n):null}function N(t,e){if(null==t)for(var n=0;n<Re.length;n++)Me[n]={},Re[n].collapsed=e;else Me[t]={},Re[t].collapsed=e;ee()}function k(t){N(t,!0)}function j(t){N(t,!1)}function D(t,e,n){Me[t][e]=Re[t].collapsed^n,ee()}function P(){var t=Array.prototype.slice.call(arguments),e=t[0];1==t.length&&-1!=e.indexOf(be)?D(e.split(be).length-1,e,!0):D(t.length-1,t.join(be),!0)}function z(){var t=Array.prototype.slice.call(arguments),e=t[0];1==t.length&&-1!=e.indexOf(be)?D(e.split(be).length-1,e,!1):D(t.length-1,t.join(be),!1)}function B(){return Se}function O(t,e){for(var n,i,r,o=[],a={},l=e?e.level+1:0,s=Re[l],u=0,g=s.predefinedValues.length;g>u;u++)i=s.predefinedValues[u],n=a[i],n||(n=new Slick.Group,n.value=i,n.level=l,n.groupingKey=(e?e.groupingKey+be:"")+i,o[o.length]=n,a[i]=n);for(var u=0,g=t.length;g>u;u++)r=t[u],i=s.getterIsAFn?s.getter(r):r[s.getter],n=a[i],n||(n=new Slick.Group,n.value=i,n.level=l,n.groupingKey=(e?e.groupingKey+be:"")+i,o[o.length]=n,a[i]=n),n.rows[n.count++]=r;if(l<Re.length-1)for(var u=0;u<o.length;u++)n=o[u],n.groups=O(n.rows,n);return o.sort(Re[l].comparer),o}function K(t){var e,n=t.group,i=Re[n.level],r=n.level==Re.length,o=i.aggregators.length;if(!r&&i.aggregateChildGroups)for(var a=n.groups.length;a--;)n.groups[a].initialized||K(n.groups[a]);for(;o--;)e=i.aggregators[o],e.init(),!r&&i.aggregateChildGroups?i.compiledAccumulators[o].call(e,n.groups):i.compiledAccumulators[o].call(e,n.rows),e.storeResult(t);t.initialized=!0}function V(t){var e=Re[t.level],n=new Slick.GroupTotals;n.group=t,t.totals=n,e.lazyTotalsCalculation||K(n)}function q(t,e){e=e||0;for(var n,i=Re[e],r=i.collapsed,o=Me[e],a=t.length;a--;)n=t[a],(!n.collapsed||i.aggregateCollapsed)&&(n.groups&&q(n.groups,e+1),i.aggregators.length&&(i.aggregateEmpty||n.rows.length||n.groups&&n.groups.length)&&V(n),n.collapsed=r^o[n.groupingKey],n.title=i.formatter?i.formatter(n):n.value)}function U(t,e){e=e||0;for(var n,i,r=Re[e],o=[],a=0,l=0,s=t.length;s>l;l++){if(i=t[l],o[a++]=i,!i.collapsed){n=i.groups?U(i.groups,e+1):i.rows;for(var u=0,g=n.length;g>u;u++)o[a++]=n[u]}i.totals&&r.displayTotalsRow&&(!i.collapsed||r.aggregateCollapsed)&&(o[a++]=i.totals)}return o}function L(t){var e=/^function[^(]*\(([^)]*)\)\s*{([\s\S]*)}$/,n=t.toString().match(e);return{params:n[1].split(","),body:n[2]}}function H(t){var e=L(t.accumulate),n=new Function("_items","for (var "+e.params[0]+", _i=0, _il=_items.length; _i<_il; _i++) {"+e.params[0]+" = _items[_i]; "+e.body+"}");return n.displayName=n.name="compiledAccumulatorLoop",n}function Q(){var t=L(me),e=t.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ($1) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,e),n=n.replace(/\$item\$/gi,t.params[0]),n=n.replace(/\$args\$/gi,t.params[1]);var i=new Function("_items,_args",n);return i.displayName=i.name="compiledFilter",i}function W(){var t=L(me),e=t.body.replace(/return false\s*([;}]|$)/gi,"{ continue _coreloop; }$1").replace(/return true\s*([;}]|$)/gi,"{ _cache[_i] = true;_retval[_idx++] = $item$; continue _coreloop; }$1").replace(/return ([^;}]+?)\s*([;}]|$)/gi,"{ if ((_cache[_i] = $1)) { _retval[_idx++] = $item$; }; continue _coreloop; }$2"),n=["var _retval = [], _idx = 0; ","var $item$, $args$ = _args; ","_coreloop: ","for (var _i = 0, _il = _items.length; _i < _il; _i++) { ","$item$ = _items[_i]; ","if (_cache[_i]) { ","_retval[_idx++] = $item$; ","continue _coreloop; ","} ","$filter$; ","} ","return _retval; "].join("");n=n.replace(/\$filter\$/gi,e),n=n.replace(/\$item\$/gi,t.params[0]),n=n.replace(/\$args\$/gi,t.params[1]);var i=new Function("_items,_args,_cache",n);return i.displayName=i.name="compiledFilterWithCaching",i}function J(t,e){for(var n=[],i=0,r=0,o=t.length;o>r;r++)me(t[r],e)&&(n[i++]=t[r]);return n}function X(t,e,n){for(var i,r=[],o=0,a=0,l=t.length;l>a;a++)i=t[a],n[a]?r[o++]=i:me(i,e)&&(r[o++]=i,n[a]=!0);return r}function Y(t){if(me){var n=e.inlineFilters?le:J,i=e.inlineFilters?se:X;$e.isFilterNarrowing?xe=n(xe,ae):$e.isFilterExpanding?xe=i(t,ae,Ce):$e.isFilterUnchanged||(xe=n(t,ae))}else xe=Fe?t:t.concat();var r;return Fe?(xe.length<Ae*Fe&&(Ae=Math.floor(xe.length/Fe)),r=xe.slice(Fe*Ae,Fe*Ae+Fe)):r=xe,{totalRows:xe.length,rows:r}}function Z(t,e){var n,i,r,o=[],a=0,l=e.length;$e&&$e.ignoreDiffsBefore&&(a=Math.max(0,Math.min(e.length,$e.ignoreDiffsBefore))),$e&&$e.ignoreDiffsAfter&&(l=Math.min(e.length,Math.max(0,$e.ignoreDiffsAfter)));for(var s=a,u=t.length;l>s;s++)s>=u?o[o.length]=s:(n=e[s],i=t[s],(Re.length&&(r=n.__nonDataRow||i.__nonDataRow)&&n.__group!==i.__group||n.__group&&!n.equals(i)||r&&(n.__groupTotals||i.__groupTotals)||n[ce]!=i[ce]||ve&&ve[n[ce]])&&(o[o.length]=s));return o}function te(t){de=null,($e.isFilterNarrowing!=ye.isFilterNarrowing||$e.isFilterExpanding!=ye.isFilterExpanding)&&(Ce=[]);var e=Y(t);Ge=e.totalRows;var n=e.rows;Se=[],Re.length&&(Se=O(n),Se.length&&(q(Se),n=U(Se)));var i=Z(pe,n);return pe=n,i}function ee(){if(!_e){var t=pe.length,e=Ge,n=te(fe,me);Fe&&Ae*Fe>Ge&&(Ae=Math.max(0,Math.ceil(Ge/Fe)-1),n=te(fe,me)),ve=null,ye=$e,$e={},e!=Ge&&Ne.notify(c(),null,ue),t!=pe.length&&Te.notify({previous:t,current:pe.length},null,ue),n.length>0&&Ee.notify({rows:n},null,ue)}}function ne(e,n,i){function r(t){s.join(",")!=t.join(",")&&(s=t,u.notify({grid:e,ids:s},new Slick.EventData,l))}function o(){if(s.length>0){a=!0;var t=l.mapIdsToRows(s);n||r(l.mapRowsToIds(t)),e.setSelectedRows(t),a=!1}}var a,l=this,s=l.mapRowsToIds(e.getSelectedRows()),u=new Slick.Event;return e.onSelectedRowsChanged.subscribe(function(){if(!a){var n=l.mapRowsToIds(e.getSelectedRows());if(i&&e.getOptions().multiSelect){var o=t.grep(s,function(t){return void 0===l.getRowById(t)});r(o.concat(n))}else r(n)}}),this.onRowsChanged.subscribe(o),this.onRowCountChanged.subscribe(o),u}function ie(t,e){function n(t){r={};for(var e in t){var n=pe[e][ce];r[n]=t[e]}}function i(){if(r){o=!0,x();var n={};for(var i in r){var a=de[i];void 0!=a&&(n[a]=r[i])}t.setCellCssStyles(e,n),o=!1}}var r,o;n(t.getCellCssStyles(e)),t.onCellCssStylesChanged.subscribe(function(t,i){o||e==i.key&&i.hash&&n(i.hash)}),this.onRowsChanged.subscribe(i),this.onRowCountChanged.subscribe(i)}var re,oe,ae,le,se,ue=this,ge={groupItemMetadataProvider:null,inlineFilters:!1},ce="id",fe=[],pe=[],he={},de=null,me=null,ve=null,_e=!1,we=!0,$e={},ye={},xe=[],Ce=[],Ie={getter:null,formatter:null,comparer:function(t,e){return t.value-e.value},predefinedValues:[],aggregators:[],aggregateEmpty:!1,aggregateCollapsed:!1,aggregateChildGroups:!1,collapsed:!1,displayTotalsRow:!0,lazyTotalsCalculation:!1},Re=[],Se=[],Me=[],be=":|:",Fe=0,Ae=0,Ge=0,Te=new Slick.Event,Ee=new Slick.Event,Ne=new Slick.Event;e=t.extend(!0,{},ge,e),t.extend(this,{beginUpdate:n,endUpdate:i,setPagingOptions:g,getPagingInfo:c,getItems:s,setItems:u,setFilter:d,sort:f,fastSort:p,reSort:h,setGrouping:v,getGrouping:m,groupBy:_,setAggregators:w,collapseAllGroups:k,expandAllGroups:j,collapseGroup:P,expandGroup:z,getGroups:B,getIdxById:y,getRowById:C,getItemById:I,getItemByIdx:$,mapRowsToIds:S,mapIdsToRows:R,setRefreshHints:r,setFilterArgs:o,refresh:ee,updateItem:M,insertItem:b,addItem:F,deleteItem:A,syncGridSelection:ne,syncGridCellCssStyles:ie,getLength:G,getItem:T,getItemMetadata:E,onRowCountChanged:Te,onRowsChanged:Ee,onPagingInfoChanged:Ne})}function n(t){this.field_=t,this.init=function(){this.count_=0,this.nonNullCount_=0,this.sum_=0},this.accumulate=function(t){var e=t[this.field_];this.count_++,null!=e&&""!==e&&0/0!==e&&(this.nonNullCount_++,this.sum_+=parseFloat(e))},this.storeResult=function(t){t.avg||(t.avg={}),0!=this.nonNullCount_&&(t.avg[this.field_]=this.sum_/this.nonNullCount_)}}function i(t){this.field_=t,this.init=function(){this.min_=null},this.accumulate=function(t){var e=t[this.field_];null!=e&&""!==e&&0/0!==e&&(null==this.min_||e<this.min_)&&(this.min_=e)},this.storeResult=function(t){t.min||(t.min={}),t.min[this.field_]=this.min_}}function r(t){this.field_=t,this.init=function(){this.max_=null},this.accumulate=function(t){var e=t[this.field_];null!=e&&""!==e&&0/0!==e&&(null==this.max_||e>this.max_)&&(this.max_=e)},this.storeResult=function(t){t.max||(t.max={}),t.max[this.field_]=this.max_}}function o(t){this.field_=t,this.init=function(){this.sum_=null},this.accumulate=function(t){var e=t[this.field_];null!=e&&""!==e&&0/0!==e&&(this.sum_+=parseFloat(e))},this.storeResult=function(t){t.sum||(t.sum={}),t.sum[this.field_]=this.sum_}}t.extend(!0,window,{Slick:{Data:{DataView:e,Aggregators:{Avg:n,Min:i,Max:r,Sum:o}}}})}(jQuery);
//# sourceMappingURL=/js/maps/slick.dataview.js.map